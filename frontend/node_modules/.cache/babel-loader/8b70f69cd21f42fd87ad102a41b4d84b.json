{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rokas/Desktop/productionRrloto/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rokas/Desktop/productionRrloto/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rokas/Desktop/productionRrloto/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'../api/axios';import{RandomReveal}from\"react-random-reveal\";import{usePromiseTracker,trackPromise}from\"react-promise-tracker\";import CircularProgress from'@mui/material/CircularProgress';import Box from'@mui/material/Box';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Other=function Other(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),winners=_useState2[0],setWinners=_useState2[1];var _usePromiseTracker=usePromiseTracker({area:props.area}),promiseInProgress=_usePromiseTracker.promiseInProgress;useEffect(function(){var getWinners=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/lottery-tickets');case 2:_yield$axios$get=_context.sent;res=_yield$axios$get.data;setWinners(res.winners);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getWinners(){return _ref.apply(this,arguments);};}();trackPromise(getWinners());},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[promiseInProgress&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',position:'absolute',top:'0',left:'0',right:'0',height:'100%',alignItems:'center'},children:/*#__PURE__*/_jsx(CircularProgress,{})}),!promiseInProgress&&/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex admin-panel justify-content-center\",children:[winners&&(winners===null||winners===void 0?void 0:winners.map(function(winner){return/*#__PURE__*/_jsxs(\"div\",{className:\"card card-ticket text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Lottery winner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RandomReveal,{isPlaying:true,duration:20,revealDuration:3,characters:String(winner.ticket.ticketNumber),characterSet:[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"],onComplete:function onComplete(){return{shouldRepeat:false,delay:3};}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RandomReveal,{isPlaying:true,duration:20,revealDuration:3,characters:winner.ticket.name,onComplete:function onComplete(){return{shouldRepeat:false,delay:3};}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RandomReveal,{isPlaying:true,duration:20,revealDuration:3,characters:winner.ticket.lastname,onComplete:function onComplete(){return{shouldRepeat:false,delay:3};}})})]})]});})),winners.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card card-ticket text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Information\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:\"There is currently no winner selected\"})]})]})]});};export default Other;","map":{"version":3,"names":["React","useEffect","useState","axios","RandomReveal","usePromiseTracker","trackPromise","CircularProgress","Box","Other","props","winners","setWinners","area","promiseInProgress","getWinners","get","res","data","display","justifyContent","position","top","left","right","height","alignItems","map","winner","String","ticket","ticketNumber","shouldRepeat","delay","name","lastname","length"],"sources":["C:/Users/Rokas/Desktop/productionRrloto/frontend/src/Pages/Other.jsx"],"sourcesContent":["import React, {useEffect, useState } from 'react';\r\nimport axios from '../api/axios';\r\nimport { RandomReveal } from \"react-random-reveal\";\r\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Box from '@mui/material/Box';\r\n\r\n\r\n\r\nconst Other = (props) => {\r\n    const [winners, setWinners] = useState([]);\r\n    const { promiseInProgress } = usePromiseTracker({area: props.area});\r\n\r\n    useEffect(() => {\r\n        const getWinners = async () => {\r\n            const {data: res} = await axios.get('/lottery-tickets');\r\n            setWinners(res.winners);\r\n        }\r\n        trackPromise(getWinners());\r\n    }, []);\r\n\r\n    return(\r\n        <>\r\n            {promiseInProgress &&\r\n                <Box sx={{ \r\n                    display: 'flex', \r\n                    justifyContent: 'center', \r\n                    position: 'absolute', \r\n                    top: '0', \r\n                    left: '0', \r\n                    right: '0', \r\n                    height: '100%', \r\n                    alignItems: 'center'\r\n                }}>\r\n                    <CircularProgress />\r\n                </Box>\r\n            }\r\n            {!promiseInProgress && \r\n\r\n                <div className='container d-flex admin-panel justify-content-center'>\r\n                    {winners && winners?.map((winner) => (\r\n                        <div className=\"card card-ticket text-center\">\r\n                            <div className=\"card-header\">\r\n                                Lottery winner\r\n                            </div>\r\n                            <div className='card-body'>\r\n                                <div>\r\n                                    <RandomReveal\r\n                                        isPlaying\r\n                                        duration={20}\r\n                                        revealDuration={3}\r\n                                        characters={String(winner.ticket.ticketNumber)}\r\n                                        characterSet={[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]}\r\n                                        onComplete={() => ({ shouldRepeat: false, delay: 3 })}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                <RandomReveal\r\n                                        isPlaying\r\n                                        duration={20}\r\n                                        revealDuration={3}\r\n                                        characters={winner.ticket.name}\r\n                                        onComplete={() => ({shouldRepeat: false, delay: 3})}\r\n                                \r\n                                    /> \r\n                                </div>\r\n                                <div>\r\n                                    <RandomReveal\r\n                                        isPlaying\r\n                                        duration={20}\r\n                                        revealDuration={3}\r\n                                        characters={winner.ticket.lastname }\r\n                                        onComplete={() => ({shouldRepeat: false, delay: 3})}\r\n                                    \r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    {winners.length === 0 && (\r\n                        <div className=\"card card-ticket text-center\">\r\n                            <div className=\"card-header\">\r\n                                Information\r\n                            </div>\r\n                            <div className='card-body'>\r\n                                There is currently no winner selected\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Other;"],"mappings":"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"},"metadata":{},"sourceType":"module"}