{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rokas/Desktop/productionRrloto/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rokas/Desktop/productionRrloto/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import axios from'../api/axios';import RedirectToPaymentNotification from'../Components/RedirectToPaymentNotification';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";var CancelPayment=function CancelPayment(){var query=window.location.search.substring(1);var navigate=useNavigate();useEffect(function(){if(query){var cancelOrder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/canceled/\".concat(query)).then(function(res){if(res.status===200){var timer=setTimeout(function(){navigate('/profile');},3000);return function(){clearTimeout(timer);};}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function cancelOrder(){return _ref.apply(this,arguments);};}();cancelOrder();}});return/*#__PURE__*/_jsx(RedirectToPaymentNotification,{message:'We cancel payment and cancel your order! Redirecting to tickets...'});};export default CancelPayment;","map":{"version":3,"names":["React","useEffect","axios","RedirectToPaymentNotification","useNavigate","CancelPayment","query","window","location","search","substring","navigate","cancelOrder","get","then","res","status","timer","setTimeout","clearTimeout"],"sources":["C:/Users/Rokas/Desktop/productionRrloto/frontend/src/Pages/CancelPayment.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from '../api/axios';\r\nimport RedirectToPaymentNotification from '../Components/RedirectToPaymentNotification';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst CancelPayment = () => {\r\n    const query =  window.location.search.substring(1);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(()=>{\r\n        if(query)\r\n        {\r\n            const cancelOrder = async () => {\r\n                await axios.get(`/canceled/${query}`)\r\n                .then((res) => {\r\n                    if(res.status === 200)\r\n                    {\r\n                        const timer = setTimeout(() => {\r\n                            navigate('/profile');\r\n                        }, 3000);\r\n\r\n                        return () => {\r\n                            clearTimeout(timer);\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n\r\n            cancelOrder();\r\n        }\r\n    })\r\n\r\n    return(\r\n        <RedirectToPaymentNotification message={'We cancel payment and cancel your order! Redirecting to tickets...'}/>\r\n    )\r\n}\r\n\r\nexport default CancelPayment;"],"mappings":"4RAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,MAAP,KAAkB,cAAlB,CACA,MAAOC,8BAAP,KAA0C,6CAA1C,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,2CAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACxB,GAAMC,MAAK,CAAIC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,SAAvB,CAAiC,CAAjC,CAAf,CACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAI,CACV,GAAGK,KAAH,CACA,CACI,GAAMM,YAAW,4FAAG,2JACVV,MAAK,CAACW,GAAN,qBAAuBP,KAAvB,GACLQ,IADK,CACA,SAACC,GAAD,CAAS,CACX,GAAGA,GAAG,CAACC,MAAJ,GAAe,GAAlB,CACA,CACI,GAAMC,MAAK,CAAGC,UAAU,CAAC,UAAM,CAC3BP,QAAQ,CAAC,UAAD,CAAR,CACH,CAFuB,CAErB,IAFqB,CAAxB,CAIA,MAAO,WAAM,CACTQ,YAAY,CAACF,KAAD,CAAZ,CACH,CAFD,CAGH,CACJ,CAZK,CADU,uDAAH,kBAAXL,YAAW,0CAAjB,CAgBAA,WAAW,GACd,CACJ,CArBQ,CAAT,CAuBA,mBACI,KAAC,6BAAD,EAA+B,OAAO,CAAE,oEAAxC,EADJ,CAGH,CA9BD,CAgCA,cAAeP,cAAf"},"metadata":{},"sourceType":"module"}